import{a as h,u as d,r as t,o as g,b as L,t as T,h as y,s as C,c as P,l,S as r,d as E,e as i,g as S,f as B,q as k}from"./handlers-1HoPJM-1.js";import{i as c}from"./vendor-common-5-8n_O84.js";function n(e,s){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${s.toFixed(2)}`)}async function u(){P();const e=l(r.CART)||[];if(E(),e.length===0){t.productsList&&(t.productsList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),n(0,0),i();return}try{const s=e.map(a=>S(a)),o=await Promise.all(s);B(o);const m=o.length,p=o.reduce((a,f)=>a+f.price,0);n(m,p)}catch{c.error({title:"Error",message:"Failed to load cart products."})}finally{i()}}function v(){(l(r.CART)||[]).length>0?(c.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),k(r.CART,[]),u(),d()):c.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function I(){h(),d(),u(),t.productsList&&t.productsList.addEventListener("click",g),t.modalActions&&t.modalActions.addEventListener("click",L),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",v),t.themeSwitcher&&t.themeSwitcher.addEventListener("click",T),t.scrollUpBtn&&(window.addEventListener("scroll",y),t.scrollUpBtn.addEventListener("click",C))}document.addEventListener("DOMContentLoaded",I);
