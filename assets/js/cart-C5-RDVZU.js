import{a as h,u as d,r as t,o as g,b as L,t as T,h as P,s as y,c as C,l,S as a,d as B,e as i,g as E,f as S,q as k}from"./handlers-BOUjNigC.js";import{i as c}from"./vendor-common-5-8n_O84.js";function n(e,s){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${s.toFixed(2)}`)}async function u(){C();const e=l(a.CART)||[];if(B(),e.length===0){t.productsList&&(t.productsList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),n(0,0),i();return}try{const s=e.map(r=>E(r)),o=await Promise.all(s);S(o);const m=o.length,p=o.reduce((r,f)=>r+f.price,0);n(m,p)}catch{c.error({title:"Error",message:"Failed to load cart products."})}finally{i()}}function v(){(l(a.CART)||[]).length>0?(c.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),k(a.CART,[]),u(),d()):c.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function I(){h(),d(),u(),t.productsList&&t.productsList.addEventListener("click",g),t.modalProduct&&t.modalProduct.addEventListener("click",L),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",v),t.themeSwitcher&&t.themeSwitcher.addEventListener("click",T),t.scrollUpBtn&&(window.addEventListener("scroll",P),t.scrollUpBtn.addEventListener("click",y))}document.addEventListener("DOMContentLoaded",I);
