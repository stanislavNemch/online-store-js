import{a as h,u as d,r as t,o as g,b as L,t as T,h as y,s as C,c as P,l,S as c,d as E,e as n,g as S,f as B,q as k}from"./handlers-B43fJEYv.js";import{i}from"./vendor-common-5-8n_O84.js";function r(e,s){t.cartTotalItems&&(t.cartTotalItems.textContent=e),t.cartTotalPrice&&(t.cartTotalPrice.textContent=`$${s.toFixed(2)}`)}async function u(){P();const e=l(c.CART)||[];if(E(),e.length===0){t.productsList&&(t.productsList.innerHTML='<li class="cart-empty-message">Your cart is empty.</li>'),r(0,0),n();return}try{const s=e.map(a=>S(a)),o=await Promise.all(s);B(o);const m=o.length,p=o.reduce((a,f)=>a+f.price,0);r(m,p)}catch{i.error({title:"Error",message:"Failed to load cart products."}),r(0,0)}finally{n()}}function v(){(l(c.CART)||[]).length>0?(i.success({title:"Success",message:"Products purchased successfully!",position:"topRight"}),k(c.CART,[]),u(),d()):i.info({title:"Info",message:"Your cart is empty.",position:"topRight"})}function I(){h(),d(),u(),t.productsList&&t.productsList.addEventListener("click",g),t.modalActions&&t.modalActions.addEventListener("click",L),t.cartBuyBtn&&t.cartBuyBtn.addEventListener("click",v),t.themeSwitcher&&t.themeSwitcher.addEventListener("click",T),t.scrollUpBtn&&(window.addEventListener("scroll",y),t.scrollUpBtn.addEventListener("click",C))}document.addEventListener("DOMContentLoaded",I);
