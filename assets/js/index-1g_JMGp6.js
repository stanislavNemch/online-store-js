import{r as e,o as a,i as r,b as s,j as i,k as d,t as n,h as c,s as l,a as m,u as L,c as h,m as f,n as u,p,f as g,e as k}from"./handlers-BWU4Dr3f.js";import{i as v}from"./vendor-common-5-8n_O84.js";async function E(){m(),L(),h();try{const[o,t]=await Promise.all([f(),u(1)]);p(["All",...o]),g(t.products),t.products.length<t.total?e.loadMoreBtn&&e.loadMoreBtn.classList.remove("hidden"):e.loadMoreBtn&&e.loadMoreBtn.classList.add("hidden")}catch{v.error({title:"Error",message:"Failed to load initial data."})}finally{k()}}document.addEventListener("DOMContentLoaded",E);e.productsList&&e.productsList.addEventListener("click",a);e.categoriesList&&e.categoriesList.addEventListener("click",r);e.modalActions&&e.modalActions.addEventListener("click",s);e.searchForm&&e.searchForm.addEventListener("submit",i);e.loadMoreBtn&&e.loadMoreBtn.addEventListener("click",d);e.themeSwitcher&&e.themeSwitcher.addEventListener("click",n);e.scrollUpBtn&&(window.addEventListener("scroll",c),e.scrollUpBtn.addEventListener("click",l));
